<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KiWiKi's 23rd Birthday Party</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- å¼•å…¥å¯çˆ±ç®€çº¦çš„ä¸­æ–‡åŠæ‰‹å†™ä½“ -->
    <link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&family=Zeyada&family=Shadows+Into+Light&family=ZCOOL+KuaiLe&family=Gaegu:wght@400;700&display=swap" rel="stylesheet">
    <script>
        window.handleImageError = function(img) {
            console.warn("æ— æ³•åŠ è½½å›¾ç‰‡èµ„æº:", img.src);
            const parent = img.parentElement;
            if (parent) {
                parent.innerHTML = `
                    <div class="flex flex-col items-center justify-center h-full p-4 text-center bg-pink-50/50">
                        <span class="text-4xl mb-2">ğŸ‚</span>
                        <span class="crayon-font text-[10px] text-pink-400 leading-tight">ç…§ç‰‡æ­£åœ¨å†²æ´—ä¸­...<br>è¯·æ£€æŸ¥ç½‘ç»œé“¾æ¥</span>
                    </div>
                `;
            }
        };
    </script>
    <style>
        :root {
            --paper-color: #fcfaf5;
        }

        body {
            background-color: var(--paper-color);
            background-image: 
                url('https://www.transparenttextures.com/patterns/handmade-paper.png'),
                radial-gradient(circle at 50% 50%, rgba(255,255,255,0.4) 0%, rgba(0,0,0,0.05) 100%);
            overflow-x: hidden;
            color: #2d2d2d;
        }

        /* è‹±æ–‡ï¼šæ¶‚é¸¦é£æ ¼ */
        .marker-font { font-family: 'Permanent Marker', cursive; }
        .script-font { font-family: 'Zeyada', cursive; }
        .crayon-en { font-family: 'Shadows Into Light', cursive; }

        /* ä¸­æ–‡ï¼šå¯çˆ±ç®€çº¦é£æ ¼ */
        .crayon-zh { 
            font-family: 'ZCOOL KuaiLe', sans-serif;
            letter-spacing: 0.05em;
        }
        
        .script-zh {
            font-family: 'Gaegu', cursive;
            font-weight: 700;
        }

        @keyframes disco-rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes glisten {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        @keyframes spin-record {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .disco-ball-container {
            animation: disco-rotate 10s linear infinite;
            filter: drop-shadow(0 0 12px rgba(255, 182, 193, 0.4));
        }

        .glisten-pixel {
            animation: glisten 2s infinite ease-in-out;
        }

        .star {
            animation: glisten 1.5s infinite;
        }

        .paper-card {
            background: rgba(255, 255, 255, 0.5);
            box-shadow: 20px 20px 60px rgba(0,0,0,0.05);
            position: relative;
        }

        .polaroid {
            background: white;
            padding: 12px 12px 45px 12px;
            box-shadow: 8px 12px 25px rgba(0,0,0,0.12);
            transform: rotate(-2deg);
            position: relative;
            z-index: 20;
            border: 1px solid #f0f0f0;
        }
        
        .tape {
            position: absolute;
            width: 100px;
            height: 30px;
            background: rgba(245, 245, 220, 0.4);
            top: -15px;
            left: 50%;
            transform: translateX(-50%) rotate(1deg);
            backdrop-filter: blur(1px);
            z-index: 25;
            border-left: 1px dashed rgba(0,0,0,0.05);
            border-right: 1px dashed rgba(0,0,0,0.05);
        }

        .btn-hand-drawn {
            border: 2px solid #2d2d2d;
            border-radius: 255px 15px 225px 15px/15px 225px 15px 255px;
            transition: all 0.3s ease;
            background: white;
            cursor: pointer;
        }
        .btn-hand-drawn:hover {
            transform: scale(1.05) rotate(1deg);
            background: #fff5f7;
        }
        
        .scribble-underline {
            background-image: url("data:image/svg+xml,%3Csvg width='200' height='20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5 15 C 50 25 150 5 195 15' stroke='%23ffcc00' stroke-width='4' fill='none' stroke-linecap='round'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: bottom;
            padding-bottom: 8px;
        }

        .crayon-mark {
            position: relative;
            display: inline-block;
            z-index: 1;
        }
        .crayon-mark::before {
            content: "";
            position: absolute;
            top: 55%;
            left: 50%;
            width: 115%;
            height: 110%;
            background: rgba(255, 204, 0, 0.18);
            z-index: -1;
            transform: translate(-50%, -50%) rotate(-1.5deg);
            border-radius: 40% 60% 50% 50% / 40% 40% 60% 60%;
        }

        .guest-mark::after {
            content: "";
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100%;
            height: 12px;
            background: rgba(236, 72, 153, 0.12);
            transform: rotate(-0.5deg);
            z-index: -1;
            border-radius: 10px;
        }

        .photo-inner {
            width: 100%;
            height: 100%;
            background-color: #f3f4f6;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        /* éŸ³ä¹æ’­æ”¾å™¨æ ·å¼ */
        .music-player {
            background: white;
            border: 1px solid #eee;
            border-radius: 20px;
            padding: 12px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            margin-top: 40px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            cursor: pointer;
            transition: transform 0.2s;
        }
        .music-player:hover {
            transform: translateY(-2px);
        }

        .record {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: #333;
            border: 4px solid #000;
            position: relative;
            animation: spin-record 4s linear infinite;
        }
        .record::after {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 12px;
            height: 12px;
            background: #fcfaf5;
            border-radius: 50%;
        }

        #tarot-modal {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(8px);
            z-index: 100;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .tarot-content {
            background: #1a1a1a;
            color: #e2e8f0;
            border: 1px solid #4a5568;
            border-radius: 24px;
            max-width: 400px;
            width: 100%;
            padding: 32px;
            text-align: center;
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4 sm:p-8">

    <!-- å¡”ç½—å¼¹çª— -->
    <div id="tarot-modal" onclick="closeTarot()">
        <div class="tarot-content" onclick="event.stopPropagation()">
            <h3 class="marker-font text-2xl text-orange-400 mb-6">ğŸ”® ä»Šæ—¥å¡”ç½—å¯ç¤º</h3>
            <div id="tarot-loading" class="py-10">
                <div class="animate-spin text-4xl mb-4">âœ¨</div>
                <p class="crayon-en text-xl text-gray-400">Reading the Stars...</p>
            </div>
            <div id="tarot-result" class="hidden">
                <div id="tarot-icon" style="width: 120px; height: 180px; background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%); margin: 0 auto 20px; border-radius: 8px; border: 2px solid #ed8936; display: flex; align-items: center; justify-content: center; font-size: 3rem; box-shadow: 0 0 20px rgba(237, 137, 54, 0.3);">ğŸƒ</div>
                <h4 id="tarot-name" class="text-3xl font-bold mb-3 text-white crayon-zh"></h4>
                <div id="tarot-desc" class="script-zh text-xl leading-relaxed text-gray-300 mb-6 italic px-2"></div>
                <button onclick="closeTarot()" class="w-full py-2 bg-orange-500/20 border border-orange-500 text-orange-400 rounded-full text-lg crayon-zh">æ”¶èµ·å¯ç¤º</button>
            </div>
        </div>
    </div>

    <div class="max-w-lg w-full paper-card p-8 sm:p-12 rounded-sm relative overflow-hidden min-h-[1100px]">
        
        <!-- æ—‹è½¬è¿ªæ–¯ç§‘çƒ -->
        <div class="absolute top-10 right-4 w-28 h-28 z-30">
            <div class="disco-ball-container">
                <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <line x1="50" y1="0" x2="50" y2="10" stroke="#999" stroke-width="2"/>
                    <circle cx="50" cy="55" r="40" fill="#fbcfe8" />
                    <g fill="white" fill-opacity="0.6">
                        <rect class="glisten-pixel" x="30" y="35" width="8" height="8" rx="1"/>
                        <rect class="glisten-pixel" style="animation-delay: 0.2s" x="45" y="30" width="8" height="8" rx="1"/>
                        <rect class="glisten-pixel" style="animation-delay: 0.5s" x="60" y="38" width="8" height="8" rx="1"/>
                        <rect class="glisten-pixel" style="animation-delay: 0.8s" x="25" y="55" width="8" height="8" rx="1"/>
                        <rect class="glisten-pixel" style="animation-delay: 0.3s" x="42" y="52" width="10" height="10" rx="1" fill="#fff"/>
                        <rect class="glisten-pixel" style="animation-delay: 1.1s" x="65" y="58" width="8" height="8" rx="1"/>
                    </g>
                    <path d="M50 20 A35 35 0 0 1 85 55" fill="none" stroke="white" stroke-width="4" stroke-linecap="round" stroke-opacity="0.4"/>
                </svg>
            </div>
        </div>

        <div class="text-center mb-6">
            <h2 class="marker-font text-4xl text-[#e63946] uppercase tracking-widest">Invitation</h2>
            <div class="script-font text-2xl leading-none text-gray-500 mt-2">
                In the wilderness of time and<br>the infinite arrangement
            </div>
        </div>

        <div class="text-center my-10 z-10 relative px-4">
            <h1 class="text-6xl marker-font text-gray-800 leading-none transform -rotate-1">KiWiKi's</h1>
            <div class="mt-2">
                <span class="text-5xl marker-font text-pink-500 scribble-underline inline-block transform rotate-1 uppercase tracking-tighter">Birthday</span>
            </div>
            <div class="absolute -top-6 right-0 text-yellow-400 text-4xl star">*</div>
            <div class="absolute top-1/2 -left-2 text-blue-300 text-3xl star">âœ¦</div>
        </div>

        <!-- å—é‚€äººåå• -->
        <div class="text-center mb-6 relative z-10">
            <p class="script-zh text-2xl text-pink-400">è‡´ï¼š</p>
            <div class="flex justify-center gap-6 mt-1">
                <span class="crayon-zh text-3xl font-bold text-gray-700 relative guest-mark">ç‹æ€æ´</span>
                <span class="crayon-zh text-3xl font-bold text-gray-700 relative guest-mark">ä½•å¥•æ–‡</span>
            </div>
        </div>

        <!-- è£…é¥°çº¿æ¡ -->
        <div class="relative w-full h-40 my-2 opacity-80">
            <svg viewBox="0 0 400 160" class="w-full h-full">
                <path d="M20 120 Q100 100 200 120 T380 120" fill="none" stroke="#ccc" stroke-width="1.5" stroke-dasharray="8 4"/>
                <g fill="none" stroke-width="2">
                    <circle cx="100" cy="100" r="10" stroke="#ff4d4d"/> 
                    <path d="M130 110 Q150 80 130 50" stroke="#ec4899"/>
                    <circle cx="280" cy="100" r="14" stroke="#8b5cf6"/>
                    <path d="M200 90 L220 70" stroke="#fbbf24" stroke-linecap="round"/>
                </g>
            </svg>
        </div>

        <!-- æ­£æ–‡ä¿¡æ¯ -->
        <div class="text-center space-y-7 relative z-10 -mt-10">
            <div class="crayon-mark">
                <p class="crayon-en text-3xl font-bold tracking-tight text-gray-800">2.12 / THURSDAY / 17:30 PM</p>
            </div>
            
            <div class="space-y-1">
                <p class="crayon-zh text-5xl font-bold text-gray-800">Solo é¤å…</p>
                <p class="script-zh text-2xl text-gray-400 tracking-wide mt-2">å¤©å¹³è·¯è¡—é“è¡¡å±±è·¯191å·103</p>
            </div>
            
            <div class="pt-2">
                <span class="inline-block px-8 py-2 border-2 border-gray-800 text-2xl crayon-zh font-bold transform -rotate-1" style="border-radius: 20px 5px 15px 5px/5px 15px 5px 20px;">
                    Dress Code: æ–‡è‰ºèŠ±å›­é£
                </span>
            </div>
            
            <div class="flex justify-center mt-6">
                <button onclick="drawTarot()" class="group flex items-center gap-3 bg-black text-white px-8 py-3 rounded-full hover:scale-105 transition-all shadow-xl">
                    <span class="text-2xl group-hover:rotate-12 transition-transform">ğŸ”®</span>
                    <span class="crayon-zh text-2xl tracking-widest">æŸ¥çœ‹æ´¾å¯¹æ—¥è¿åŠ¿</span>
                </button>
            </div>
        </div>

        <!-- ç…§ç‰‡åŒºåŸŸ -->
        <div class="mt-14 flex flex-col items-center">
            <div class="polaroid group">
                <div class="tape"></div>
                <div class="w-56 h-72 photo-inner">
                    <img id="main-photo" 
                         src="https://test.fukit.cn/autoupload/f/E6u6wLQidoBOTsb5P0Ub8diO_OyvX7mIgxFBfDMDErs/20260204/bLT6/1179X1631/IMG_2401.jpeg/webp" 
                         alt="KiWiKi Birthday" 
                         class="w-full h-full object-cover"
                         onerror="window.handleImageError(this)">
                </div>
                <p class="mt-6 script-font text-2xl text-center text-gray-400 italic tracking-widest">WILD & FREE @ 23</p>
            </div>

            <!-- éŸ³ä¹æ’­æ”¾å™¨ç»„ä»¶ -->
            <div class="music-player w-full max-w-[400px]" onclick="window.open('https://163cn.tv/0QUmStH')">
                <div class="record"></div>
                <div class="flex-1 overflow-hidden">
                    <p class="marker-font text-lg text-gray-800 truncate">Signs</p>
                    <p class="crayon-en text-sm text-gray-400">Bloc Party</p>
                </div>
                <div class="flex items-center gap-2">
                    <span class="crayon-zh text-sm text-gray-400">å»ç½‘æ˜“äº‘å¬å¬</span>
                    <div class="w-8 h-8 flex items-center justify-center bg-red-50 text-red-500 rounded-full text-sm">
                        â™«
                    </div>
                </div>
            </div>

            <!-- äº¤äº’æŒ‰é’® -->
            <div class="flex gap-6 mt-10 w-full max-w-[400px] z-30 px-4">
                <button onclick="window.open('https://maps.apple.com/?address=ä¸Šæµ·å¸‚å¾æ±‡åŒºè¡¡å±±è·¯191å·')" class="btn-hand-drawn flex-1 py-4 text-2xl crayon-zh font-bold shadow-sm">
                    ğŸ“ ç‚¹å‡»å¯¼èˆª
                </button>
                <button id="confirm-btn" onclick="confirmParticipation()" class="btn-hand-drawn flex-1 py-4 text-2xl crayon-zh font-bold shadow-sm">
                    ğŸ’Œ ç¡®è®¤å‚åŠ 
                </button>
            </div>
        </div>
        <!-- ç§»é™¤äº†åº•éƒ¨çš„ kunkunchong creative studio -->
    </div>

    <script>
        const apiKey = ""; 
        const tarotIcons = ["â˜€ï¸", "ğŸŒ™", "ğŸŒŸ", "ğŸ¡", "âš–ï¸", "ğŸ•¯ï¸", "ğŸ›ï¸", "ğŸ¹", "ğŸŒŠ", "ğŸ’"];

        async function drawTarot() {
            const modal = document.getElementById('tarot-modal');
            const loader = document.getElementById('tarot-loading');
            const result = document.getElementById('tarot-result');
            modal.style.display = 'flex';
            loader.classList.remove('hidden');
            result.classList.add('hidden');

            const prompt = "è¯·éšæœºä¸ºæˆ‘æŠ½å–ä¸€å¼ å¡”ç½—ç‰Œï¼Œå¹¶ç»™å‡ºä»Šæ—¥è¿åŠ¿ã€‚è¾“å‡ºæ ¼å¼ä¸º JSONï¼ŒåŒ…å« cardName(ç‰Œå), interpretation(ç®€çŸ­ä¸”æ–‡è‰ºçš„è§£è¯»)ã€‚è§£è¯»å­—æ•°åœ¨50å­—ä»¥å†…ã€‚";
            try {
                const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
                const response = await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: prompt }] }],
                        generationConfig: { responseMimeType: "application/json" }
                    })
                });
                const data = await response.json();
                const tarotData = JSON.parse(data.candidates[0].content.parts[0].text);
                document.getElementById('tarot-name').innerText = tarotData.cardName;
                document.getElementById('tarot-desc').innerText = tarotData.interpretation;
                document.getElementById('tarot-icon').innerText = tarotIcons[Math.floor(Math.random() * tarotIcons.length)];
                loader.classList.add('hidden');
                result.classList.remove('hidden');
            } catch (error) {
                loader.classList.add('hidden');
                document.getElementById('tarot-name').innerText = "å‘½è¿ä¹‹è½®";
                document.getElementById('tarot-desc').innerText = "æ˜Ÿè±¡è¿æ¥ç¨æœ‰æ³¢æŠ˜ï¼Œä½†æƒŠå–œæ€»åœ¨ä¸ç»æ„é—´å‘ç”Ÿã€‚æ´¾å¯¹è§ï¼";
                result.classList.remove('hidden');
            }
        }

        function closeTarot() {
            document.getElementById('tarot-modal').style.display = 'none';
        }

        function confirmParticipation() {
            const btn = document.getElementById('confirm-btn');
            btn.innerHTML = "âœ¨ å‡†æ—¶èµ´çº¦";
            btn.style.background = "#f0fdf4";
            btn.disabled = true;
            setTimeout(() => drawTarot(), 500);
        }
    </script>
</body>
</html>